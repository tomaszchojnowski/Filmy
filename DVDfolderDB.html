<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Filmy DVD">
<title>Filmy DVD</title>

<style>
body {
  margin: 0;
  padding: 16px;
  font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
  background: #000;
  color: #fff;
}

h1 {
  font-size: 26px;
  margin-bottom: 12px;
}

input {
  width: 100%;
  font-size: 22px;
  padding: 12px;
  border-radius: 10px;
  border: none;
  margin-bottom: 16px;
}

.film {
  padding: 12px 8px;
  border-bottom: 1px solid #333;
}

.pl {
  font-size: 20px;
  font-weight: 600;
}

.org {
  font-size: 18px;
  color: #aaa;
}
</style>
</head>

<body>
<h1>ðŸŽ¬ Filmy DVD</h1>

<input id="search" placeholder="Szukaj filmu..." autofocus>

<div id="list"></div>

<script>
const films = [
  {
    pl: "DzieÅ„ NiepodlegÅ‚oÅ›ci",
    org: "Independence Day",
    year: 1996,
    folder: "III",
    disk: 18
  },
  {
    pl: "Equilibrium",
    org: "Equilibrium",
    year: 2002,
    folder: "III",
    disk: 19
  },
  {
    pl: "Sahara",
    org: "Sahara",
    year: 2005,
    folder: "III",
    disk: 20
  },
  {
    pl: "DzieÅ„ Åšwira",
    org: "DzieÅ„ Åšwira",
    year: 2002,
    folder: "III",
    disk: 21
  },
  {
    pl: "ChÃ©ri",
    org: "ChÃ©ri",
    year: 2009,
    folder: "III",
    disk: 22
  },
  {
    pl: "Droga przez piekÅ‚o",
    org: "The Deer Hunter",
    year: 1978,
    folder: "III",
    disk: 23
  },
  {
    pl: "Obcy kontra Predator",
    org: "AVP: Alien vs. Predator",
    year: 2004,
    folder: "III",
    disk: 24
  },
  {
    pl: "Skazany na bluesa",
    org: "Skazany na bluesa",
    year: 2005,
    folder: "III",
    disk: 25
  }
];

function normalize(text) {
  return text
    .toLowerCase()
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "");
}

const list = document.getElementById("list");
const search = document.getElementById("search");

function render(query = "") {
  list.innerHTML = "";
  const q = normalize(query);

  films.forEach(film => {
    const haystack = normalize(film.pl + " " + film.org + " " + film.year);
    if (haystack.includes(q)) {
      const div = document.createElement("div");
      div.className = "film";
      div.innerHTML = `
        <div class="pl">${film.pl}</div>
        <div class="org">${film.org} (${film.year})</div>
        <div class="org">Katalog ${film.folder} : Dysk <b>${film.disk}</div>
      `;
      list.appendChild(div);
    }
  });
}

search.addEventListener("input", e => render(e.target.value));
render();
</script>

</body>
</html>
